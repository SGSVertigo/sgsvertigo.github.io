{"version":3,"sources":["/Users/ben/code/vertigo-web/src/app/shared/data.ts","/Users/ben/code/vertigo-web/src/app/shared/point.ts"],"names":[],"mappings":"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","file":"0.chunk.js","sourcesContent":["import { Point } from './point';\nimport { FileParser } from './fileparser';\n\nexport interface DataListener {\n    DataUpdated(data:CalculatedData):void;\n}\n\nexport interface DataPointListener {\n    DataPointUpdated(index:number):void;\n}\n\nexport class Data {\n  constructor() { }\n  public x:Point[] = [];\n  public y:Point[] = [];\n  public z:Point[] = [];\n  public ax:Point[] = [];\n  public ay:Point[] = [];\n  public az:Point[] = [];\n  public rx:Point[] = [];\n  public ry:Point[] = [];\n  public rz:Point[] = [];\n  public q0:Point[] = [];\n  public q1:Point[] = [];\n  public q2:Point[] = [];\n  public q3:Point[] = [];\n  public newPositionData:boolean = false;\n  public newIMUData:boolean = false;\n  public newQuaternionData:boolean = false;\n\n  public reset(){\n      this.newPositionData = false;\n      this.newIMUData = false;\n      this.newQuaternionData = false;\n  }\n  \n  public static parseLine(outputArray:Point[],line:Array<number>,type:number,channel:number):boolean{\n        if (line[1]==type){\n            outputArray.push(new Point(line[0]/1000.0,line[1+channel]));\n            return true;\n        }\n        return false;\n    }\n\n    public loadData(data:any[]){\n        for (var i = 0; i < data.length;i++){\n            data[i] = parseFloat(data[i]);\n        }\n        this.newIMUData = Data.parseLine(this.ax,data,2,1);\n        Data.parseLine(this.ay,data,2,2);\n        Data.parseLine(this.az,data,2,3);\n        Data.parseLine(this.rx,data,2,4);\n        Data.parseLine(this.ry,data,2,5);\n        Data.parseLine(this.rz,data,2,6);\n        this.newPositionData = Data.parseLine(this.x,data,1,1);\n        Data.parseLine(this.y,data,1,2);\n        Data.parseLine(this.z,data,1,3);\n        this.newQuaternionData = Data.parseLine(this.q0,data,3,1);\n        Data.parseLine(this.q1,data,3,2);\n        Data.parseLine(this.q2,data,3,3);\n        Data.parseLine(this.q3,data,3,4);\n    }\n}\n\nexport class CalculatedData {\n    constructor(){}\n    public boardReference:Data = new Data();\n    public integral:Data = new Data();\n    public worldReference:Data = new Data();\n    public loadData(data:any[]){\n        this.boardReference.loadData(data);\n        if (this.boardReference.newQuaternionData){\n            if (this.boardReference.ax.length>0&&this.boardReference.rx.length>0){\n                var xArr:Point[] = this.boardReference.ax;\n                var ax:number = xArr[xArr.length-1].y;\n                var yArr:Point[]  = this.boardReference.ay;\n                var ay:number = yArr[yArr.length-1].y;\n                var zArr:Point[]  = this.boardReference.az;\n                var az:number = zArr[zArr.length-1].y;\n                var rxArr:Point[] = this.boardReference.rx;\n                var rx:number = rxArr[rxArr.length-1].y;\n                var ryArr:Point[] = this.boardReference.ry;\n                var ry:number = ryArr[ryArr.length-1].y;\n                var rzArr:Point[] = this.boardReference.rz;\n                var rz:number = rzArr[rzArr.length-1].y;\n                var q0Arr:Point[] = this.boardReference.q0;\n                var q0:number = q0Arr[q0Arr.length-1].y;\n                var q1Arr:Point[] = this.boardReference.q1;\n                var q1:number = q1Arr[q1Arr.length-1].y;\n                var q2Arr:Point[] = this.boardReference.q2;\n                var q2:number = q2Arr[q2Arr.length-1].y;\n                var q3Arr:Point[] = this.boardReference.q3;\n                var q3:number = q3Arr[q3Arr.length-1].y;\n                var accelerationVector:Array<number> = [ax,ay,az];\n                var angularAccelerationVector:Array<number> = [rx,ry,rz];\n                var quaternion:Array<number> = [q0,q1,q2,q3];\n                this.convertToWorldReference(q0Arr[q0Arr.length-1].x,accelerationVector,quaternion,[this.worldReference.ax,this.worldReference.ay,this.worldReference.az]);\n                this.convertToWorldReference(q0Arr[q0Arr.length-1].x,angularAccelerationVector,quaternion,[this.worldReference.rx,this.worldReference.ry,this.worldReference.rz]);\n                this.worldReference.newIMUData = true;\n            }\n        } else {\n            this.worldReference.newIMUData = false;\n        }\n    }\n    private integrate(any:any):any{\n    var lastX:number = any[0].x;\n    var lastY:number = any[0].y;\n    var output = [];\n    var last:number = 0;\n    any.forEach(element => {\n      var diff:number = ((parseFloat(element.y)+lastY)*(parseFloat(element.x)-lastX)/2.0);\n      if (isNaN(diff)){\n        diff = 0;\n      }\n      output.push({x:element.x,y:last+diff});\n      last = last+diff;\n      lastX = parseFloat(element.x);\n      lastY = parseFloat(element.y);\n    });\n    return output;\n  }\n\n  private convertToWorldReference(time:number,vector:Array<number>,quaternion:Array<number>,output:Array<Point[]>){\n      var correctedVector:Array<number> = this.toWorldReference(vector,quaternion);\n      output[0].push(new Point(time,correctedVector[0]));\n      output[1].push(new Point(time,correctedVector[1]));\n      output[2].push(new Point(time,correctedVector[2]));\n  }\n\n  private convertDataToWorldReference(data:Array<any>,quaternion:Array<any>):Array<any>{\n    var output:Array<any> = [[],[],[]];\n    var endIndex = data[0].length;\n    if (quaternion[0].length< endIndex){\n      endIndex = quaternion[0].length;\n    }\n\n    for (var i = 0; i < endIndex; i++){\n      var vector:Array<number> = [parseFloat(data[0][i].y),parseFloat(data[1][i].y),parseFloat(data[2][i].y)];\n      var thisQuaternion:Array<number> = [parseFloat(quaternion[0][i].y),parseFloat(quaternion[1][i].y),parseFloat(quaternion[2][i].y),parseFloat(quaternion[3][i].y)];\n      var correctedVector:Array<number> = this.toWorldReference(vector,thisQuaternion);\n      output[0].push({x:data[0][i].x,y:correctedVector[0]});\n      output[1].push({x:data[0][i].x,y:correctedVector[1]});\n      output[2].push({x:data[0][i].x,y:correctedVector[2]});\n    }\n    return output;\n  }\n\n  private toWorldReference(vector:Array<number>,quaternion:Array<number>):Array<number>{\n    var outputVector:Array<number> = [0.0,vector[0],vector[1],vector[2]];\n    outputVector = this.hamiltonian(quaternion,outputVector);\n    outputVector = this.hamiltonian(outputVector,this.quaternionConjugate(quaternion));\n    outputVector = [outputVector[1],outputVector[2],outputVector[3]];\n    return outputVector;\n  }\n\n  private quaternionConjugate(q:Array<number>):Array<number>{\n    var output:Array<number> = [];\n    output.push( q[0]);\n    output.push(-q[1]);\n    output.push(-q[2]);\n    output.push(-q[3]);\n    return output;\n  }\n\n  private hamiltonian(q:Array<number>, r:Array<number>):Array<number>{\n    var output:Array<number> = [];\n    output.push(q[0]*r[0] - q[1]*r[1] - q[2]*r[2] - q[3]*r[3]);\n    output.push(q[0]*r[1] + r[0]*q[1] + q[2]*r[3] - q[3]*r[2]);\n    output.push(q[0]*r[2] + r[0]*q[2] + q[3]*r[1] - q[1]*r[3]);\n    output.push(q[0]*r[3] + r[0]*q[3] + q[1]*r[2] - q[2]*r[1]);\n    return output;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/ben/code/vertigo-web/src/app/shared/data.ts","export class Point {\n  constructor(x:number,y:number) {this.x = x; this.y = y; }\n  public x;\n  public y;\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/ben/code/vertigo-web/src/app/shared/point.ts"],"sourceRoot":"webpack:///"}